<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora E-Shop</title>
   <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W9PBF9TQ');</script>
<!-- End Google Tag Manager -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #E0E0E0;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">
   <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W9PBF9TQ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <div id="app-container" class="bg-gray-800 rounded-2xl shadow-2xl overflow-hidden max-w-lg w-full">
        <!-- Content will be rendered here by JavaScript -->
    </div>

    <script>
        const appContainer = document.getElementById('app-container');

        // Main Page Content
        const homePage = `
            <div class="p-6 sm:p-8 space-y-4 text-center">
                <h1 class="text-4xl sm:text-5xl font-bold text-white tracking-tight">Aurora E-Shop</h1>
                <p class="text-gray-400 leading-relaxed text-sm sm:text-base">
                    Discover our most popular product, the enchanting Comet Pendant.
                </p>
                <img src="https://placehold.co/800x600/1e1e1e/d4d4d4?text=The+Comet" alt="A sleek, modern comet-shaped pendant" class="w-full h-auto object-cover rounded-2xl my-4">
                <button id="viewProductButton" class="bg-teal-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500 focus:ring-opacity-50">
                    View Product
                </button>
            </div>
        `;

        // Product Page Content
        const productPage = `
            <div>
                <div class="relative overflow-hidden">
                    <img src="https://placehold.co/800x600/1e1e1e/d4d4d4?text=The+Comet" alt="A sleek, modern comet-shaped pendant" class="w-full h-auto object-cover rounded-t-2xl">
                </div>
                <div class="p-6 sm:p-8 space-y-4">
                    <h1 class="text-3xl sm:text-4xl font-bold text-white tracking-tight">The Comet Pendant</h1>
                    <p class="text-gray-400 leading-relaxed text-sm sm:text-base">
                        An elegant, handcrafted pendant that captures the essence of a comet's tail streaking through the night sky. Made from polished chrome and embedded with a luminous synthetic opal, it's a timeless piece for any collection.
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-3xl font-extrabold text-teal-400">$89.99</span>
                        <button id="buyButton" class="bg-teal-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500 focus:ring-opacity-50">
                            Buy Now
                        </button>
                    </div>
                </div>
            </div>
        `;

        // Thank You Page Content
        const thankYouPage = `
            <div class="p-6 sm:p-8 space-y-4 text-center">
                <h1 class="text-4xl sm:text-5xl font-bold text-white tracking-tight">Thank You!</h1>
                <p class="text-gray-400 leading-relaxed text-lg">
                    Your purchase is complete and will be shipped shortly.
                </p>
                <div class="mt-8">
                    <button id="backToHomeButton" class="bg-teal-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500 focus:ring-opacity-50">
                        Back to Home
                    </button>
                </div>
            </div>
        `;

        function renderPage(pageContent) {
            appContainer.innerHTML = pageContent;
            
            // Define the data for the Data Layer push
            let pagePath = '';
            let pageTitle = '';

            // Dynamically add event listeners and set GTM data based on the current page
            if (pageContent === homePage) {
                pagePath = '/home';
                pageTitle = 'Home Page';
                document.getElementById('viewProductButton').addEventListener('click', () => {
                    renderPage(productPage);
                });
            } else if (pageContent === productPage) {
                pagePath = '/product';
                pageTitle = 'Product Page';
                document.getElementById('buyButton').addEventListener('click', () => {
                    renderPage(thankYouPage);
                });
            } else if (pageContent === thankYouPage) {
                pagePath = '/thank-you';
                pageTitle = 'Thank You Page';
                document.getElementById('backToHomeButton').addEventListener('click', () => {
                    renderPage(homePage);
                });
            }

            // Push a custom event to the dataLayer for each "page view"
            // This is crucial for tracking in a Single-Page Application (SPA)
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'virtualPageview',
                'pagePath': pagePath,
                'pageTitle': pageTitle
            });
        }

        // Initial page render
        renderPage(homePage);
    </script>
</body>
</html>
